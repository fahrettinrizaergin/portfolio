# JavaScript'te Asenkron Programlama: Promises ve Async/Await ğŸš€

Merhaba! Bu rehberde JavaScript'in en Ã¶nemli konularÄ±ndan biri olan asenkron programlamayÄ± Ã¶ÄŸreneceÄŸiz. Callback'lerden modern async/await yapÄ±sÄ±na kadar her ÅŸeyi dostÃ§a bir dille ve pratik Ã¶rneklerle ele alacaÄŸÄ±z. Haydi baÅŸlayalÄ±m! ğŸ‘‹

## Callback FonksiyonlarÄ±na GiriÅŸ ğŸ“

Callback fonksiyonlarÄ±, asenkron iÅŸlemlerin temelini oluÅŸturur. Bir iÅŸlem tamamlandÄ±ÄŸÄ±nda Ã§aÄŸrÄ±lan fonksiyonlardÄ±r:

```javascript
// Basit bir callback Ã¶rneÄŸi
function veriGetir(callback) {
    setTimeout(() => {
        const veri = "Ä°ÅŸte verileriniz!";
        callback(veri);
    }, 2000);
}

veriGetir((veri) => {
    console.log(veri); // 2 saniye sonra: "Ä°ÅŸte verileriniz!"
});

// Callback Hell Ã¶rneÄŸi ğŸ˜±
veriGetir((veri1) => {
    console.log(veri1);
    veriGetir((veri2) => {
        console.log(veri2);
        veriGetir((veri3) => {
            console.log(veri3);
        });
    });
});
```

## Promise (SÃ¶z) ğŸ¤

Promise'ler, callback hell'den kurtulmamÄ±zÄ± saÄŸlayan modern bir yapÄ±dÄ±r:

```javascript
// Promise oluÅŸturma
const veriGetirPromise = new Promise((resolve, reject) => {
    setTimeout(() => {
        const basarili = true;
        if (basarili) {
            resolve("Veri baÅŸarÄ±yla getirildi!");
        } else {
            reject("Veri getirilemedi!");
        }
    }, 2000);
});

// Promise kullanÄ±mÄ±
veriGetirPromise
    .then(veri => console.log(veri))
    .catch(hata => console.error(hata));
```

## Promise Zinciri â›“ï¸

Promise'leri birbirine baÄŸlayarak sÄ±ralÄ± iÅŸlemler yapabiliriz:

```javascript
function kullaniciGetir(id) {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve({ id: id, ad: "AyÅŸe" });
        }, 1000);
    });
}

function siparisGetir(kullanici) {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve({
                kullaniciId: kullanici.id,
                urunler: ["Laptop", "Mouse"]
            });
        }, 1000);
    });
}

// Promise zinciri
kullaniciGetir(1)
    .then(kullanici => siparisGetir(kullanici))
    .then(siparis => console.log(siparis))
    .catch(hata => console.error(hata));
```

## Promise'lerde Hata YÃ¶netimi ğŸš¨

Promise'lerde hatalarÄ± yakalamak ve yÃ¶netmek Ã¶nemlidir:

```javascript
function guvenliVeriGetir() {
    return new Promise((resolve, reject) => {
        // Rastgele hata Ã¼retme
        if (Math.random() > 0.5) {
            resolve("Veri baÅŸarÄ±yla alÄ±ndÄ±");
        } else {
            reject(new Error("Veri alÄ±namadÄ±!"));
        }
    });
}

guvenliVeriGetir()
    .then(veri => console.log(veri))
    .catch(hata => {
        console.error("Hata yakalandÄ±:", hata.message);
        // Hata durumunda yedek veriyi dÃ¶ndÃ¼r
        return "Yedek veri";
    })
    .finally(() => {
        console.log("Ä°ÅŸlem tamamlandÄ±");
    });
```

## Promise API ğŸ› ï¸

Promise sÄ±nÄ±fÄ±nÄ±n kullanÄ±ÅŸlÄ± metodlarÄ±:

```javascript
// Promise.all - tÃ¼m promise'lerin tamamlanmasÄ±nÄ± bekler
Promise.all([
    Promise.resolve(1),
    Promise.resolve(2),
    Promise.resolve(3)
]).then(sonuclar => console.log(sonuclar)); // [1, 2, 3]

// Promise.race - ilk tamamlanan promise'i dÃ¶ndÃ¼rÃ¼r
Promise.race([
    new Promise(r => setTimeout(() => r(1), 1000)),
    new Promise(r => setTimeout(() => r(2), 500))
]).then(sonuc => console.log(sonuc)); // 2

// Promise.allSettled - tÃ¼m promise'lerin durumunu bekler
Promise.allSettled([
    Promise.resolve(1),
    Promise.reject("hata")
]).then(sonuclar => console.log(sonuclar));
```

## Promisification ğŸ”„

Callback tabanlÄ± fonksiyonlarÄ± Promise'e dÃ¶nÃ¼ÅŸtÃ¼rme:

```javascript
// Callback tabanlÄ± fonksiyon
function gelenekselVeriGetir(callback) {
    setTimeout(() => callback(null, "veri"), 1000);
}

// Promise'e dÃ¶nÃ¼ÅŸtÃ¼rme
function promiseVeriGetir() {
    return new Promise((resolve, reject) => {
        gelenekselVeriGetir((hata, veri) => {
            if (hata) reject(hata);
            else resolve(veri);
        });
    });
}

// KullanÄ±m
promiseVeriGetir().then(console.log);
```

## Microtasks ve Event Loop ğŸ”„

Promise'ler microtask kuyruÄŸunda Ã§alÄ±ÅŸÄ±r:

```javascript
console.log("1");

setTimeout(() => console.log("2"), 0);

Promise.resolve().then(() => console.log("3"));

console.log("4");

// Ã‡Ä±ktÄ±: 1, 4, 3, 2
```

## Async/Await ğŸŒŸ

Promise'leri daha okunabilir hale getiren modern sÃ¶zdizimi:

```javascript
async function kullaniciVerileriniGetir(id) {
    try {
        const kullanici = await kullaniciGetir(id);
        const siparis = await siparisGetir(kullanici);
        return siparis;
    } catch (hata) {
        console.error("Hata:", hata);
        throw hata;
    }
}

// Async fonksiyon kullanÄ±mÄ±
kullaniciVerileriniGetir(1)
    .then(sonuc => console.log(sonuc))
    .catch(hata => console.error(hata));

// Paralel iÅŸlemler
async function parallelVeriGetir() {
    const [kullanici, urunler] = await Promise.all([
        kullaniciGetir(1),
        siparisGetir({ id: 1 })
    ]);
    return { kullanici, urunler };
}
```

Bu rehberde JavaScript'in asenkron programlama Ã¶zelliklerini Ã¶ÄŸrendik. Callback'lerden baÅŸlayÄ±p modern async/await yapÄ±sÄ±na kadar ilerledik. Bu bilgiler, modern web uygulamalarÄ± geliÅŸtirirken size Ã§ok yardÄ±mcÄ± olacak! ğŸš€

BaÅŸarÄ±lar! ğŸ‘‹